# vSphere 8.0 - VCPG-80-000007

## [VCPG-80-000007] pgaudit log generation exhausts disk space before rotation can occur
This issue was resolved with the release of the VMware vSphere 8.0 vCenter Appliance PostgreSQL Security Technical Implementation Guide :: Version 2, Release: 2 Benchmark Date: 02 Apr 2025.  

Related issue: None

Enabling audit logging for PostgreSQL can exhaust disk space on the log partition in large deployments or environments with many integrations with vCenter that generate events.  

### Workaround
- The pgaudit parameters will be tuned to reduce log generation for certain events in a future STIG release.  
- These steps assume the `/opt/vmware/vpostgres/current/bin/vmw_vpg_config/vmw_vpg_config.py --action stig_enable --pg-data-dir /storage/db/vpostgres` script has already been ran.  
- Update the `/storage/db/vpostgres/stig.conf` file and remove the existing `pgaudit.log*` statements and add the following:  
```
pgaudit.log_catalog = off
pgaudit.log_parameter = off
pgaudit.log_relation = off
pgaudit.log_statement = off
pgaudit.log = 'all, -misc, -read'
```
- Restart PostgreSQL by running `vmon-cli --restart vmware-vpostgres` for the changes to take effect.  
